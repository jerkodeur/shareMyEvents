<div class="event-join-layout">
  <form [formGroup]="joinEventForm" (ngSubmit)="onSubmitForm()">
    <fieldset>
      <legend class="w-auto px-2">
        <h1>Participer à un event</h1>
      </legend>
      <p class="event-join-instructions">
        Afin de participer à un event, veuillez renseigner un nom d'utilisateur
        et renseigner l'id de participant reçu par e-mail.
      </p>
      <hr />
      <div class="required">* Champs obligatoires</div>
      <div class="form-group">
        <label for="email" class="form-label"
          >Nom d'utilisateur <span class="text-blood">*</span></label
        >
        <input
          type="text"
          name="username"
          id="username"
          placeholder="Choisissez un nom d'utilisateur"
          class="form-control"
          aria-required
          formControlName="username"
          autocomplete="username"
        />
        <div
          class="error-feedback"
          *ngIf="
          submitted &&
          joinEventForm.controls['username']?.errors?.['required']
        "
        >
          * Vous devez choisir un nom d'utilisateur.
        </div>
        <div
          class="error-feedback"
          *ngIf="
          submitted &&
          joinEventForm.controls['username']?.errors?.['minlength']
        "
        >
          * Le nom d'utilisateur doit comporter au moins 2 caractères.
        </div>
        <div
          class="error-feedback"
          *ngIf="
            submitted &&
            joinEventForm.dirty &&
            joinEventForm.getError('userExist')
          "
        >
          * Ce nom d'utilisateur est déjà utilisé.
        </div>
      </div>
      <div class="form-group">
        <label for="password" class="form-label" aria-required
          >Id de participant <span class="text-blood">*</span></label
        >
        <div class="form-icon">
          <input
            type="text"
            name="participantId"
            id="participantId"
            placeholder="Entrez votre identifiant de participant"
            class="form-control"
            aria-required
            formControlName="participantId"
          />
        </div>
        <div
          class="error-feedback"
          *ngIf="
          submitted &&
          joinEventForm.controls['participantId']?.errors?.['required']
        "
        >
          * Champs requis.
        </div>

        <div
          class="error-feedback"
          *ngIf="
            submitted &&
            joinEventForm.dirty &&
            joinEventForm.getError('unknownParticipantId')
          "
        >
          * Id de participant invalide.
        </div>
      </div>
      <div class="row form-btn-layout">
        <button type="submit">Rejoindre l'event</button>
      </div>
    </fieldset>
  </form>
</div>
