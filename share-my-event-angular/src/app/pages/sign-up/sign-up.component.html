<form
  [formGroup]="signUpForm"
  class="main-form-layout"
  (ngSubmit)="onSubmit()"
  novalidate
>
  <fieldset>
    <legend class="w-auto px-2">
      <h1>Formulaire d'inscription</h1>
    </legend>
    <div class="required">* Champs obligatoires</div>
    <div class="form-group">
      <label for="firstname" class="form-label"
        >Nom <span class="text-blood">*</span></label
      >
      <input
        type="text"
        name="firstname"
        id="firstname"
        placeholder="Entrez votre nom de famille"
        class="form-control"
        aria-required
        formControlName="firstname"
        autocomplete="family-name"
      />
      <div
        class="error-feedback"
        *ngIf="
          submitted &&
          signUpForm.controls['firstname'].errors?.['required']
        "
      >
        * Vous devez entrer un nom.
      </div>
      <div
        class="error-feedback"
        *ngIf="
          submitted &&
          signUpForm.controls['firstname'].errors?.['minlength']
        "
      >
        Le nom doit comporter au moins 2 caractères.
      </div>
    </div>
    <div class="form-group">
      <label for="lastname" class="form-label"
        >Prénom <span class="text-blood">*</span></label
      >
      <input
        type="text"
        name="lastname"
        id="lastname"
        placeholder="Entrez votre prénom"
        class="form-control"
        aria-required
        formControlName="lastname"
        autocomplete="given-name"
      />
      <div
        class="error-feedback"
        *ngIf="
          submitted &&
          signUpForm.controls['lastname'].errors?.['required']
        "
      >
        * Vous devez entrer un prénom.
      </div>
      <div
        class="error-feedback"
        *ngIf="
          submitted &&
          signUpForm.controls['lastname'].errors?.['minlength']
        "
      >
        Le prénom doit comporter au moins 2 caractères.
      </div>
    </div>
    <div class="form-group">
      <label for="email" class="form-label"
        >E-mail <span class="text-blood">*</span></label
      >
      <input
        type="email"
        name="email"
        id="email"
        placeholder="mon-email@gmail.com"
        class="form-control"
        aria-required
        formControlName="email"
        autocomplete="email"
      />
      <div
        class="error-feedback"
        *ngIf="
          submitted &&
          signUpForm.controls['email'].errors?.['required']
        "
      >
        * Vous devez renseigner une adresse e-email.
      </div>
      <div
        class="error-feedback"
        *ngIf="
          submitted && (signUpForm.controls['email'].errors?.['pattern'])
        "
      >
        * Le format de l'adresse e-mail est invalide.
      </div>
    </div>
    <div class="form-group">
      <label for="password" class="form-label" aria-required
        >Mot de passe <span class="text-blood">*</span></label
      >
      <div class="form-icon">
        <input
          [type]="pwdShow ? 'texte' : 'password'"
          name="password"
          id="password"
          placeholder="Choisissez un mot de passe"
          class="form-control"
          aria-required
          formControlName="password"
          aria-describedby="pwdHelp"
        />
        <fa-icon
          [icon]="pwdShow ? faEyeSlash : faEye"
          size="xs"
          (click)="togglePwdType()"
        ></fa-icon>
      </div>
      <div id="pwdHelp" class="form-text">
        Le mot de passe doit contenir au minimum 8 caractères, 1 majuscule, 1
        minuscule, et 1 caractère spécial.
      </div>
      <div
        class="error-feedback"
        *ngIf="
          submitted &&
          signUpForm.controls['password'].errors?.['required']
        "
      >
        * Vous devez renseigner un mot de passe.
      </div>
      <div
        class="error-feedback"
        *ngIf="
          submitted &&
          signUpForm.controls['password'].errors?.['pattern']
        "
      >
        * Le format du mot de passe n'est pas correct.
      </div>
    </div>
    <div class="form-group">
      <label for="confirm_password" class="form-label"
        >Confirmation du mot de passe <span class="text-blood">*</span></label
      >
      <div class="form-icon">
        <input
          [type]="cfPwdShow ? 'texte' : 'password'"
          name="confirm_password"
          id="confirm_password"
          placeholder="Confirmer votre mot de passe"
          class="form-control"
          aria-required
          formControlName="confirm_password"
        />
        <fa-icon
          [icon]="cfPwdShow ? faEyeSlash : faEye"
          size="xs"
          (click)="toggleCfPwdType()"
        ></fa-icon>
      </div>
      <div
        class="error-feedback"
        *ngIf="
          submitted &&
          !signUpForm.controls['password'].errors &&
          signUpForm.controls['confirm_password'].errors?.['matchPassword'] ==
            true
        "
      >
        * Les deux mots de passe ne sont pas identiques.
      </div>
      <div class="aside-text-info">
        En validant votre inscription, vous accepter les
        <a href="#">conditions générales d’utilisation (CGU)</a>
      </div>
    </div>
    <div class="row form-btn-layout">
      <button type="submit" class="btn btn-secondary">S'inscrire</button>
    </div>
  </fieldset>
</form>
<aside class="aside-text-info">
  Vous avez déjà un compte ? <a routerLink="/login">Connexion</a>
</aside>
